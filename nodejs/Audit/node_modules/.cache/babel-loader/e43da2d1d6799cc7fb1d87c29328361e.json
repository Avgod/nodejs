{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/nodejs/nodejs/Audit/src/components/newAudit/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport 'antd/dist/antd.css';\nimport { Button, Space, PageHeader, Input, DatePicker, Popconfirm, Table, Row, Col, Select, Typography, message } from 'antd';\nimport { PlusSquareOutlined, BorderOuterOutlined, FundProjectionScreenOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Audit = () => {\n  _s();\n\n  const [checklist, setChecklist] = useState([]);\n  const [project, setProject] = useState([]);\n  const [employee, setEmployee] = useState([]);\n  const [projectName, setProjectName] = useState('');\n  const [tableData, setTableData] = useState([]);\n  const [showTable, setShowTable] = useState(false); // const [selectedEmployee, setSelectedEmployee] = useState([]);\n\n  const [keyCount, setKeyCount] = useState(2);\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [inputList, setInputList] = useState({\n    project_name: '',\n    project_id: '',\n    checklist_id: '',\n    place_of_audit: '',\n    audit_start_date: '',\n    audit_end_date: '',\n    description: '',\n    audit_remarks: '',\n    status: ''\n  });\n  const [final, setFinal] = useState({\n    masterAudit: '',\n    CheckList: {\n      sendData: [],\n      columnHeaders: []\n    },\n    teamAudit: ''\n  });\n  useEffect(() => {\n    axios.get('http://localhost:4000/checklist/allCheckLists').then(res => {\n      setChecklist(res.data.data);\n      console.log('checklist', res.data.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get('http://localhost:4000/projectData/allProjects').then(res => {\n      setProject(res.data.data);\n      console.log('project', res.data.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get('http://localhost:4000/employeeData/getEmpdetails').then(res => {\n      setEmployee(res.data.data);\n      console.log('employee', res.data.data);\n    });\n  }, []);\n  const [draft, setDraft] = useState('Send Draft');\n\n  const changeButtonName = () => {\n    setDraft('Send Final');\n  };\n\n  const handleProjectSelect = value => {\n    setProjectName(value[1]);\n    const list = inputList;\n    list['project_name'] = value[0];\n    list['project_id'] = value[1];\n    setInputList(list);\n    console.log(\"val\", list);\n  };\n\n  const handleStatusSelect = value => {\n    const list = inputList;\n    list['status'] = value;\n    setInputList(list);\n    console.log(\"val\", list);\n  };\n\n  const handlePlaceChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    const list = inputList;\n    list[name] = value;\n    setInputList(list);\n    console.log(\"////\", inputList);\n  };\n\n  const handleDateChange = (date, dateString, id) => {\n    console.log(\"date\", date);\n\n    if (id === 1) {\n      const list = inputList;\n      list['audit_start_date'] = dateString;\n      setInputList(list);\n      console.log(\"val\", list);\n    } else {\n      const list = inputList;\n      list['audit_end_date'] = dateString;\n      setInputList(list);\n      console.log(\"val\", list);\n    }\n  };\n\n  const handleChecklistClick = value => {\n    const list = inputList;\n    list['checklist_id'] = value[2];\n    setInputList(list);\n    console.log(\"val\", list);\n    let body = {\n      checklist_name: value[1]\n    };\n    console.log('value', body);\n    axios.post('http://localhost:4000/checklist/checkListData', body).then(res => {\n      console.log('res', res.data.data[0]);\n      setTableData(res.data.data[0]);\n      setShowTable(true);\n    });\n  };\n\n  const handleInitiateClick = () => {\n    let body = final;\n    body['masterAudit'] = inputList;\n    body['CheckList']['sendData'] = tableData;\n    body['CheckList']['columnHeaders'] = TableColumns;\n    body['teamAudit'] = auditTeamData;\n    setFinal(body);\n    console.log(\"final\", body);\n    axios.post('http://localhost:4000/audit/saveMasterAudit', body).then(res => {\n      console.log('res', res);\n\n      if (res.status === 200) {\n        message.success('File Uploaded');\n      } else {\n        message.error('File Not Uploaded');\n      }\n    });\n  }; // const handleEmployeeSelect = (value) => {\n  //   setSelectedEmployee(value[1]);\n  // }\n\n\n  let name = [];\n  project.forEach((data, i) => {\n    name.push({\n      id: data.ProjectId,\n      name: data.ProjectName\n    });\n  });\n  name = name.filter((name, index, self) => index === self.findIndex(t => t.name === name.name && t.id === name.id));\n\n  const onInputChange = (key, index) => e => {\n    const newData = [...auditTeamData];\n    newData[index][key] = e.target.value;\n    setAuditTeamData(newData);\n    console.log(auditTeamData);\n  };\n\n  const onSelectChange = (key, index) => value => {\n    const newData = [...auditTeamData];\n    newData[index][key] = value[1];\n    setAuditTeamData(newData);\n    console.log('emmpp', value[1]);\n    console.log('dsss', auditTeamData);\n  };\n\n  const auditTeamColumns = [{\n    title: 'Team Member',\n    dataIndex: 'team_member',\n    // width:150,\n    render: (text, record, index) => /*#__PURE__*/_jsxDEV(Select, {\n      showSearch: true,\n      placeholder: \"Search to Select\",\n      style: {\n        width: '100%'\n      },\n      onChange: onSelectChange(\"team_member\", index),\n      children: employee.map((data, i) => /*#__PURE__*/_jsxDEV(Select.Option, {\n        value: [data.employeeName, data.employeeId, i],\n        children: data.employeeName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: 'Role',\n    dataIndex: 'audit_role',\n    render: (text, record, index) => /*#__PURE__*/_jsxDEV(Input, {\n      value: text,\n      onChange: onInputChange(\"audit_role\", index)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: 'Remarks',\n    dataIndex: 'remarks',\n    render: (text, record, index) => /*#__PURE__*/_jsxDEV(Input, {\n      value: text,\n      onChange: onInputChange(\"remarks\", index)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }, this)\n  }];\n  const [auditTeamData, setAuditTeamData] = useState([{\n    key: 1,\n    team_member: '',\n    audit_role: '',\n    remarks: ''\n  }]); // rowSelection object indicates the need for row selection \n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: (selectedRowKeys, selectedRows) => {\n      console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\n      setSelectedRowKeys(selectedRowKeys);\n    }\n  };\n\n  const handleAddClick = () => {\n    let count = keyCount + 1;\n    const newData = {\n      key: keyCount,\n      team_member: '',\n      audit_role: '',\n      remarks: ''\n    };\n    let columnData = [...auditTeamData, newData]; // console.log(\"columnData\",columnData)\n\n    setAuditTeamData(columnData);\n    setKeyCount(count);\n  };\n\n  const handleRemoveClick = key => {\n    console.log(\"e\", key);\n    let arr = [...auditTeamData];\n    console.log(arr);\n    arr = arr.filter(item => !key.includes(item.key));\n    setAuditTeamData(arr);\n    setSelectedRowKeys([]);\n    console.log('ddd', arr);\n  };\n\n  const hasSelected = selectedRowKeys.length > 0; // const TableColumn = [\n  //   {\n  //     title: 'Team Member',\n  //     dataIndex: 'team_member',\n  //     width: 150,\n  //     render: () => (\n  //       <Select defaultValue=\"Select\" style={{ width: 120 }} onChange={handleEmployeeSelect}>\n  //         {employee.map((data, i) => (\n  //                   <Select.Option value={[data.employeeName,data.employeeId]} icon={<UserOutlined />}>\n  //                         {data.employeeName}\n  //                   </Select.Option>\n  //                 ))}\n  //       </Select>\n  //     )\n  //   },\n  //   {\n  //     title: 'Audit Role',\n  //     dataIndex: 'audit_role',\n  //     width: 100,\n  //   },\n  //   {\n  //     title: 'Remarks',\n  //     dataIndex: 'remarks',\n  //     width: 100,\n  //   },\n  // ];\n  // const TableColumnData = [];\n  // for (let i = 1; i < 4; i++) {\n  //   TableColumnData.push({\n  //     team_member:selectedEmployee,\n  //     audit_role: 'Audit',\n  //     remarks: `Audit ${i}`,\n  //   });\n  // }\n  // console.log(\"ccccc\",TableColumnData);\n\n  const TableColumns = [];\n  tableData.forEach((data, i) => {\n    for (const k in data) {\n      if (TableColumns.indexOf(k) === -1) {\n        TableColumns.push(k);\n      }\n    }\n  });\n  const TableColumnsData = [];\n  TableColumns.forEach((data, i) => {\n    TableColumnsData.push({\n      title: data.replace(/^_*(.)|_+(.)/g, (s, c, d) => c ? c.toUpperCase() : ' ' + d.toUpperCase()),\n      dataIndex: data,\n      key: i,\n      width: 150,\n      render: (text, record, index) => // (\n      //    <Input value={text} onChange={onTableInputChange(data, index)}/>\n      //  )\n      {\n        if (text != null) {\n          return text;\n        }\n\n        return /*#__PURE__*/_jsxDEV(Input, {\n          value: text,\n          onChange: onTableInputChange(data, index)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this);\n      }\n    });\n  });\n\n  const onTableInputChange = (key, index) => e => {\n    const newData = [...tableData];\n    newData[index][key] = e.target.value;\n    setTableData(newData);\n    console.log(tableData);\n  };\n\n  const enabled = inputList['project_name'].length > 0 && inputList['checklist_id'].length > 0 && inputList['place_of_audit'].length > 0 && inputList['audit_start_date'].length > 0 && inputList['audit_end_date'].length > 0 && inputList['description'].length > 0 && inputList['audit_remarks'].length > 0 && inputList['status'].length > 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          marginBottom: '16px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(PageHeader, {\n            style: {\n              fontSize: '32px'\n            },\n            children: \"Audit Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Space, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              ghost: true,\n              onClick: handleInitiateClick,\n              disabled: !enabled,\n              children: \"Initiate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"dashed\",\n              onClick: changeButtonName,\n              children: draft\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n              title: \"Are you sure want to close?\",\n              okText: \"Yes\",\n              cancelText: \"No\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                danger: true,\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid black',\n          padding: '30px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '800px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'left'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginRight: '5px',\n                  width: '94px'\n                },\n                children: \"Project: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                defaultValue: \"select\",\n                style: {\n                  width: '300px',\n                  marginRight: '30px'\n                },\n                onChange: handleProjectSelect,\n                children: Object.values(name).map((data, i) => /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: [data.id, data.name],\n                  icon: /*#__PURE__*/_jsxDEV(FundProjectionScreenOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 70\n                  }, this),\n                  children: [data.name, ' - ', data.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'left'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginRight: '5px',\n                  width: '94px'\n                },\n                children: \"Checklist: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                defaultValue: \"select\",\n                style: {\n                  width: '310px'\n                },\n                onChange: handleChecklistClick,\n                children: checklist.map((data, i) => /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: [data.checklist_name, data.checklist_tablename, data.checklist_id],\n                  icon: /*#__PURE__*/_jsxDEV(FundProjectionScreenOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 115\n                  }, this),\n                  children: data.checklist_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'left'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginRight: '5px',\n                  width: '125px'\n                },\n                children: \"Project Name: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Enter Project Name\",\n                prefix: /*#__PURE__*/_jsxDEV(PlusSquareOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 65\n                }, this),\n                value: projectName,\n                disabled: true,\n                style: {\n                  marginRight: '30px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginRight: '5px',\n                  width: '120px'\n                },\n                children: \"Place of Audit: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Enter Place\",\n                prefix: /*#__PURE__*/_jsxDEV(PlusSquareOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 58\n                }, this),\n                name: \"place_of_audit\",\n                id: \"1\",\n                onChange: handlePlaceChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'left'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginRight: '5px',\n                  width: '94px'\n                },\n                children: \"Start Date: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                style: {\n                  width: '300px',\n                  marginRight: '30px'\n                },\n                onChange: (date, dateString) => handleDateChange(date, dateString, 1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'left'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginRight: '5px',\n                  width: '94px'\n                },\n                children: \"Closure Date: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                style: {\n                  width: '310px'\n                },\n                onChange: (date, dateString) => handleDateChange(date, dateString, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginRight: '5px',\n                  width: '125px'\n                },\n                children: \"Audit ID: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Enter Audit ID\",\n                prefix: /*#__PURE__*/_jsxDEV(BorderOuterOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 61\n                }, this),\n                disabled: true,\n                style: {\n                  marginRight: '30px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginRight: '5px',\n                  width: '120px'\n                },\n                children: \"Description:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Enter Description\",\n                prefix: /*#__PURE__*/_jsxDEV(BorderOuterOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 64\n                }, this),\n                name: \"description\",\n                onChange: handlePlaceChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginRight: '5px',\n                  width: '125px'\n                },\n                children: \"Audit Remarks:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Enter Audit Remarks\",\n                prefix: /*#__PURE__*/_jsxDEV(BorderOuterOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 66\n                }, this),\n                name: \"audit_remarks\",\n                onChange: handlePlaceChange,\n                style: {\n                  marginRight: '30px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'left'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                style: {\n                  marginRight: '5px',\n                  width: '90px'\n                },\n                children: \"Audit Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                defaultValue: \"select\",\n                style: {\n                  width: '310px'\n                },\n                onChange: handleStatusSelect,\n                children: [/*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: \"initiated\",\n                  children: \"Initiated\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: \"in-progress\",\n                  children: \"In Progress\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: \"pending\",\n                  children: \"Pending\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: \"completed\",\n                  children: \"Completed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid black',\n          marginTop: '20px',\n          padding: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n          style: {\n            fontSize: '28px',\n            marginBottom: '16px'\n          },\n          children: \"Audit Team\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleAddClick,\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n          title: \"Sure to delete?\",\n          onConfirm: () => handleRemoveClick(selectedRowKeys),\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            disabled: !hasSelected,\n            style: {\n              marginLeft: '10px',\n              marginBottom: '10px'\n            },\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          rowSelection: { ...rowSelection\n          },\n          columns: auditTeamColumns,\n          dataSource: auditTeamData,\n          pagination: false,\n          scroll: {\n            y: 240\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px'\n        },\n        children: showTable && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n            style: {\n              fontSize: '28px',\n              marginBottom: '16px'\n            },\n            children: \"Audit Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            columns: TableColumnsData,\n            dataSource: tableData,\n            scroll: {\n              x: 200,\n              y: 400\n            },\n            bordered: true,\n            pagination: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 332,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Audit, \"JQODiz6G8P8DW2tost8XCWzwelg=\");\n\n_c = Audit;\nexport default Audit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Audit\");","map":{"version":3,"sources":["/home/ubuntu/nodejs/nodejs/Audit/src/components/newAudit/index.js"],"names":["React","useState","useEffect","Button","Space","PageHeader","Input","DatePicker","Popconfirm","Table","Row","Col","Select","Typography","message","PlusSquareOutlined","BorderOuterOutlined","FundProjectionScreenOutlined","axios","Audit","checklist","setChecklist","project","setProject","employee","setEmployee","projectName","setProjectName","tableData","setTableData","showTable","setShowTable","keyCount","setKeyCount","selectedRowKeys","setSelectedRowKeys","inputList","setInputList","project_name","project_id","checklist_id","place_of_audit","audit_start_date","audit_end_date","description","audit_remarks","status","final","setFinal","masterAudit","CheckList","sendData","columnHeaders","teamAudit","get","then","res","data","console","log","draft","setDraft","changeButtonName","handleProjectSelect","value","list","handleStatusSelect","handlePlaceChange","e","name","target","handleDateChange","date","dateString","id","handleChecklistClick","body","checklist_name","post","handleInitiateClick","TableColumns","auditTeamData","success","error","forEach","i","push","ProjectId","ProjectName","filter","index","self","findIndex","t","onInputChange","key","newData","setAuditTeamData","onSelectChange","auditTeamColumns","title","dataIndex","render","text","record","width","map","employeeName","employeeId","team_member","audit_role","remarks","rowSelection","onChange","selectedRows","handleAddClick","count","columnData","handleRemoveClick","arr","item","includes","hasSelected","length","k","indexOf","TableColumnsData","replace","s","c","d","toUpperCase","onTableInputChange","enabled","display","alignItems","justifyContent","marginBottom","fontSize","border","padding","marginRight","Object","values","checklist_tablename","marginTop","marginLeft","y","x"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport 'antd/dist/antd.css';\nimport {\n  Button, Space, PageHeader, Input, DatePicker, Popconfirm, Table, Row, Col, Select, Typography, message\n} from 'antd';\nimport {\n  PlusSquareOutlined, BorderOuterOutlined, FundProjectionScreenOutlined\n} from '@ant-design/icons';\nimport axios from 'axios';\n\nconst Audit = () => {\n  const [checklist, setChecklist] = useState([]);\n  const [project, setProject] = useState([]);\n  const [employee, setEmployee] = useState([]);\n  const [projectName, setProjectName] = useState('');\n  const [tableData, setTableData] = useState([]);\n  const [showTable, setShowTable] = useState(false);\n  // const [selectedEmployee, setSelectedEmployee] = useState([]);\n  const [keyCount, setKeyCount] = useState(2);\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [inputList, setInputList] = useState(\n    {project_name: '', project_id: '', checklist_id: '', place_of_audit: '', audit_start_date: '', audit_end_date: '', description: '', audit_remarks: '', status: ''}\n  )\n\n  const [final, setFinal] = useState({masterAudit: '', CheckList:{sendData: [],columnHeaders:[]},teamAudit:''});\n\n\n  useEffect(() => {\n    axios\n      .get('http://localhost:4000/checklist/allCheckLists')\n      .then((res) => {\n        setChecklist(res.data.data);\n        console.log('checklist', res.data.data);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios\n      .get('http://localhost:4000/projectData/allProjects')\n      .then((res) => {\n        setProject(res.data.data);\n        console.log('project', res.data.data);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios\n      .get('http://localhost:4000/employeeData/getEmpdetails')\n      .then((res) => {\n        setEmployee(res.data.data);\n        console.log('employee', res.data.data);\n      });\n  }, []);\n\n  const [draft, setDraft] = useState('Send Draft');\n\n  const changeButtonName = () => {\n    setDraft('Send Final');\n  };\n\n  const handleProjectSelect = (value) => {\n    setProjectName(value[1]);\n    const list = inputList;\n    list['project_name'] = value[0];\n    list['project_id'] = value[1];\n    setInputList(list)\n    console.log(\"val\",list)\n  };\n\n  const handleStatusSelect = (value) => {\n    const list = inputList;\n    list['status'] = value;\n    setInputList(list)\n    console.log(\"val\",list)\n  }\n\n  \n  const handlePlaceChange = (e) => {\n    const {name, value} = e.target\n    const list = inputList;\n    list[name] = value;\n    setInputList(list)\n    console.log(\"////\",inputList)\n  }\n\n  const handleDateChange = (date,dateString,id) => {\n    console.log(\"date\",date)\n    if(id === 1){\n      const list = inputList;\n    list['audit_start_date'] = dateString;\n    setInputList(list)\n    console.log(\"val\",list)\n    }\n    else {\n      const list = inputList;\n    list['audit_end_date'] = dateString;\n    setInputList(list)\n    console.log(\"val\",list)\n    }\n    \n  }\n  \n  const handleChecklistClick = (value) => {\n    const list = inputList;\n    list['checklist_id'] = value[2];\n    setInputList(list)\n    console.log(\"val\",list)\n\n    let body = {\n      checklist_name:value[1]\n    }\n    console.log('value',body);\n    axios\n      .post('http://localhost:4000/checklist/checkListData',body)\n      .then((res) => {\n        console.log('res', res.data.data[0]);\n        setTableData(res.data.data[0]);\n        setShowTable(true);\n      });\n  };\n\n  const handleInitiateClick = () => {\n    let body=final;\n    body['masterAudit'] = inputList;\n    body['CheckList']['sendData'] = tableData;\n    body['CheckList']['columnHeaders'] = TableColumns;\n    body['teamAudit'] = auditTeamData;\n    setFinal(body);\n    console.log(\"final\",body)\n    \n    axios\n    .post('http://localhost:4000/audit/saveMasterAudit',body)\n    .then((res) => {\n      console.log('res', res);\n      if(res.status === 200) {\n        message.success('File Uploaded');\n      }\n      else{\n        message.error('File Not Uploaded');\n      }\n    });\n\n  }\n\n  // const handleEmployeeSelect = (value) => {\n  //   setSelectedEmployee(value[1]);\n  // }\n\n  let name = [];\n  project.forEach((data, i) => {\n    name.push({ id: data.ProjectId, name: data.ProjectName });\n  });\n  name = name.filter((name, index, self) => index === self.findIndex((t) => (t.name === name.name && t.id === name.id)));\n\n  const onInputChange = (key, index) => (e) => {\n    const newData = [...auditTeamData]\n    newData[index][key] = e.target.value;\n    setAuditTeamData(newData);\n    console.log(auditTeamData);\n  }\n\n  const onSelectChange = (key, index) => (value) => {\n    const newData = [...auditTeamData]\n    newData[index][key] = value[1];\n    setAuditTeamData(newData);\n    console.log('emmpp',value[1]);\n    console.log('dsss',auditTeamData);\n  }\n\n  const auditTeamColumns = [\n    {\n      title: 'Team Member',\n      dataIndex: 'team_member',\n      // width:150,\n      render: (text,record,index) => (\n        <Select showSearch placeholder=\"Search to Select\" style={{ width: '100%' }} onChange={onSelectChange(\"team_member\", index)}>\n          {employee.map((data, i) => (\n                    <Select.Option value={[data.employeeName,data.employeeId,i]}>\n                          {data.employeeName}\n                    </Select.Option>\n                  ))}\n        </Select>\n      )\n    },\n    {\n      title: 'Role',\n      dataIndex: 'audit_role',\n      render:(text,record,index) => (\n        <Input value={text} onChange={onInputChange(\"audit_role\", index)}/>\n      )\n    },\n    {\n      title: 'Remarks',\n      dataIndex: 'remarks',\n      render:(text,record,index) => (\n        <Input value={text} onChange={onInputChange(\"remarks\", index)}/>\n      )\n    },\n  ];\n  \n  const [auditTeamData, setAuditTeamData] = useState([\n    {\n      key: 1,\n      team_member:'',\n      audit_role:'',\n      remarks:''\n    }\n  ]); \n  \n  // rowSelection object indicates the need for row selection \n  const rowSelection = {\n    selectedRowKeys,\n    onChange: (selectedRowKeys, selectedRows) => {\n      console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\n      setSelectedRowKeys(selectedRowKeys);\n    }\n  };\n\n  const handleAddClick = () => {\n    let count = keyCount+1;\n    const newData = {\n      key: keyCount,\n      team_member: '',\n      audit_role:'',\n      remarks:'',\n    }\n    let columnData = [...auditTeamData, newData]\n    // console.log(\"columnData\",columnData)\n    setAuditTeamData(columnData)\n    setKeyCount(count);\n  }\n\n  const handleRemoveClick = (key) => {\n    console.log(\"e\",key)\n    let arr = [...auditTeamData];\n    console.log(arr)\n    arr = arr.filter((item) => !key.includes(item.key))\n    setAuditTeamData(arr);\n    setSelectedRowKeys([]);\n    console.log('ddd',arr)\n  }\n  \n  const hasSelected = selectedRowKeys.length > 0;\n\n\n  // const TableColumn = [\n  //   {\n  //     title: 'Team Member',\n  //     dataIndex: 'team_member',\n  //     width: 150,\n  //     render: () => (\n  //       <Select defaultValue=\"Select\" style={{ width: 120 }} onChange={handleEmployeeSelect}>\n  //         {employee.map((data, i) => (\n  //                   <Select.Option value={[data.employeeName,data.employeeId]} icon={<UserOutlined />}>\n  //                         {data.employeeName}\n  //                   </Select.Option>\n  //                 ))}\n  //       </Select>\n  //     )\n  //   },\n  //   {\n  //     title: 'Audit Role',\n  //     dataIndex: 'audit_role',\n  //     width: 100,\n  //   },\n  //   {\n  //     title: 'Remarks',\n  //     dataIndex: 'remarks',\n  //     width: 100,\n  //   },\n\n  // ];\n\n  // const TableColumnData = [];\n  // for (let i = 1; i < 4; i++) {\n  //   TableColumnData.push({\n  //     team_member:selectedEmployee,\n  //     audit_role: 'Audit',\n  //     remarks: `Audit ${i}`,\n\n  //   });\n  // }\n\n  // console.log(\"ccccc\",TableColumnData);\n\n \n  \n  const TableColumns = [];\n  tableData.forEach((data, i) => {\n    for (const k in data) {\n      if (TableColumns.indexOf(k) === -1) {\n        TableColumns.push(k);\n      }\n    }\n  });\n\n\n  const TableColumnsData = [];\n  TableColumns.forEach((data, i) => {\n    TableColumnsData.push({\n      title: data.replace(/^_*(.)|_+(.)/g, (s, c, d) => c ? c.toUpperCase() : ' ' + d.toUpperCase()),\n      dataIndex: data,\n      key: i,\n      width: 150,\n      render:(text,record,index) => \n      // (\n      //    <Input value={text} onChange={onTableInputChange(data, index)}/>\n      //  )\n      {\n        if(text != null) {\n          return text;\n        }\n        return(\n          <Input value={text} onChange={onTableInputChange(data, index)}/>\n        )\n      }\n    });\n  });\n\n\n    const onTableInputChange = (key, index) => (e) => {\n    const newData = [...tableData]\n    newData[index][key] = e.target.value;\n    setTableData(newData);\n    console.log(tableData);\n  }\n\n\n  const enabled = inputList['project_name'].length > 0 && inputList['checklist_id'].length > 0 && inputList['place_of_audit'].length > 0 && inputList['audit_start_date'].length > 0 && inputList['audit_end_date'].length > 0 && inputList['description'].length > 0 && inputList['audit_remarks'].length > 0 && inputList['status'].length > 0;\n  \n  return (\n    <div>\n      <div>\n        <div style={{\n          display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '16px',\n        }}\n        >\n          <div>\n            <PageHeader style={{ fontSize: '32px' }}>Audit Details</PageHeader>\n          </div>\n          <div>\n            <Space>\n              <Button type=\"primary\">Save</Button>\n              <Button type=\"primary\" ghost onClick={handleInitiateClick} disabled={!enabled}>Initiate</Button>\n              <Button type=\"dashed\" onClick={changeButtonName}>{draft}</Button>\n              <Popconfirm title=\"Are you sure want to close?\" okText=\"Yes\" cancelText=\"No\">\n                <Button type=\"primary\" danger>Close</Button>\n              </Popconfirm>\n            </Space>\n          </div>\n        </div>\n        <div style={{ border: '1px solid black', padding: '30px' }}>\n          <div style={{ width: '800px'}}>\n            <Row style={{ marginBottom: '10px' }}>\n              <Col span={12} style={{ display: 'flex', alignItems: 'center', justifyContent: 'left' }}>\n                <Typography style={{ marginRight: '5px', width: '94px' }}>Project: </Typography>\n                <Select defaultValue=\"select\" style={{ width: '300px', marginRight: '30px' }} onChange={handleProjectSelect}>\n                  {Object.values(name).map((data, i) => (\n                    <Select.Option value={[data.id,data.name]} icon={<FundProjectionScreenOutlined />}>\n                          {data.name}\n                          {' - '}\n                          {data.id}\n                        </Select.Option>\n                  ))}\n                </Select>\n              </Col>\n              <Col span={12} style={{ display: 'flex', alignItems: 'center', justifyContent: 'left' }}>\n                <Typography style={{ marginRight: '5px', width: '94px' }}>Checklist: </Typography>\n                {/* <Dropdown.Button overlay={menu} icon={<DownOutlined />}>Select Checklist</Dropdown.Button> */}\n                <Select defaultValue=\"select\" style={{ width: '310px' }} onChange={handleChecklistClick}>\n                  {checklist.map((data, i) => (\n                    <Select.Option value={[data.checklist_name,data.checklist_tablename,data.checklist_id]} icon={<FundProjectionScreenOutlined />}>\n                          {data.checklist_name}\n                        </Select.Option>\n                  ))}\n                </Select>\n              </Col>\n            </Row>\n            <Row style={{ marginBottom: '10px' }}>\n              <Col span={12} style={{ display: 'flex', alignItems: 'center', justifyContent: 'left' }}>\n                <Typography style={{ marginRight: '5px', width: '125px' }}>Project Name: </Typography>\n                <Input placeholder=\"Enter Project Name\" prefix={<PlusSquareOutlined />} value={projectName} disabled style={{marginRight: '30px'}}/>\n              </Col>\n              <Col span={12} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                <Typography style={{ marginRight: '5px', width: '120px' }}>Place of Audit: </Typography>\n                <Input placeholder=\"Enter Place\" prefix={<PlusSquareOutlined/>} name='place_of_audit' id='1' onChange={handlePlaceChange} />\n              </Col>\n            </Row>\n            <Row style={{ marginBottom: '10px' }}>\n              <Col span={12} style={{ display: 'flex', alignItems: 'center', justifyContent: 'left' }}>\n                <Typography style={{ marginRight: '5px', width: '94px' }}>Start Date: </Typography>\n                <DatePicker style={{ width: '300px', marginRight: '30px' }} onChange={(date,dateString) => handleDateChange(date,dateString,1)} />\n              </Col>\n              <Col span={12} style={{ display: 'flex', alignItems: 'center', justifyContent: 'left' }}>\n                <Typography style={{ marginRight: '5px', width: '94px' }}>Closure Date: </Typography>\n                <DatePicker style={{ width: '310px' }} onChange={(date,dateString) => handleDateChange(date,dateString,2)}/>\n              </Col>\n            </Row>\n            <Row style={{ marginBottom: '10px' }}>\n              <Col span={12} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                <Typography style={{ marginRight: '5px', width: '125px' }}>Audit ID: </Typography>\n                <Input placeholder=\"Enter Audit ID\" prefix={<BorderOuterOutlined />} disabled style={{marginRight: '30px'}}/>\n              </Col>\n              <Col span={12} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                <Typography style={{ marginRight: '5px', width: '120px' }}>Description:</Typography>\n                <Input placeholder=\"Enter Description\" prefix={<BorderOuterOutlined />} name='description' onChange={handlePlaceChange}/>\n              </Col>\n            </Row>\n            <Row style={{ marginBottom: '10px' }}>\n              <Col span={12} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                <Typography style={{ marginRight: '5px', width: '125px' }}>Audit Remarks:</Typography>\n                <Input placeholder=\"Enter Audit Remarks\" prefix={<BorderOuterOutlined />} name='audit_remarks' onChange={handlePlaceChange} style={{marginRight: '30px'}}/>\n              </Col>\n              <Col span={12} style={{ display: 'flex', alignItems: 'center', justifyContent: 'left' }}>\n                <Typography style={{ marginRight: '5px', width: '90px' }}>Audit Status:</Typography>\n                <Select defaultValue=\"select\" style={{ width: '310px' }} onChange={handleStatusSelect}>\n                  <Select.Option value=\"initiated\">Initiated</Select.Option>\n                  <Select.Option value=\"in-progress\">In Progress</Select.Option>\n                  <Select.Option value=\"pending\">Pending</Select.Option>\n                  <Select.Option value=\"completed\">Completed</Select.Option>\n                </Select>\n              </Col>\n            </Row>\n          </div>\n        </div>\n        <div style={{ border: '1px solid black', marginTop: '20px', padding: '30px' }}>\n          <PageHeader style={{ fontSize: '28px', marginBottom: '16px' }}>Audit Team</PageHeader>\n          <Button onClick={handleAddClick}>+</Button>\n          <Popconfirm title=\"Sure to delete?\" onConfirm={() => handleRemoveClick(selectedRowKeys)}>\n          <Button disabled={!hasSelected} style={{marginLeft:'10px', marginBottom:'10px'}}>-</Button>\n          </Popconfirm>\n          <Table rowSelection={{...rowSelection}} columns={auditTeamColumns} dataSource={auditTeamData} pagination={false} scroll={{ y: 240 }} />\n        </div>\n        \n        <div style={{marginTop: '20px'}}>\n\n       {showTable && \n          <div>\n            <PageHeader style={{ fontSize: '28px', marginBottom: '16px' }}>Audit Report</PageHeader>\n            <Table columns={TableColumnsData} dataSource={tableData} scroll={{ x: 200, y: 400 }} bordered pagination={false}/>\n        </div>\n      }\n        </div>\n\n      </div>\n    </div>\n  );\n};\n\nexport default Audit;\n"]},"metadata":{},"sourceType":"module"}